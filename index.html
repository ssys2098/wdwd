<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>신체 정보</title>
    <!-- CSS 파일 연결 -->
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
    <h1>3D 신체 정보 입력</h1>
    <form id="bodyInfoForm" action="result.html"> <!-- 폼에 ID를 추가합니다 -->
        <label for="name">이름</label>
        <input type="text" name="name" id="name" required placeholder="이름을 입력하세요" autofocus>
       
        <label for="age">나이:</label>
        <input type="number" id="age" name="age" required placeholder="나이를 입력하세요">
        
        <label for="gender">성별</label>
        <input type="text" name="gender" id="gender" required
        placeholder="성별을 입력하세요" autofocus>
    
        <fieldset>
            <legend>키 (cm) 입력:</legend>
            <label for="height">키</label>
            <input type="number" id="height" name="height" min="0" required placeholder="키를 입력해주세요">
        </fieldset>

        <label for="weight">몸무게 (kg):</label>
        <input type="number" id="weight" name="weight" required placeholder="몸무게를 입력해주세요"><br><br>
        
        <fieldset>
            <label for="bloodType">혈액형</label>
            <input type="text" name="bloodType" id="bloodType" required
            placeholder="혈액형을 입력하세요" autofocus>
        </fieldset>

        <fieldset>
            <legend>병 명:</legend>
            <textarea name="disease" id="disease" cols="45" rows="3" placeholder="없으면 넘어가주세요"></textarea>
            
        </fieldset>
        <fieldset>
            <legend>특이사항:</legend>
            <textarea name="note" id="note" cols="45" rows="3" placeholder="없으면 제출해주세요"></textarea>
            <input id="filelp" type="file" accept="image/png, image/jpeg" multiple>
        </fieldset>
        <input type="submit" value="제출">
        <input type="reset" value="초기화">
    </form>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const form = document.getElementById("bodyInfoForm");
    
            form.addEventListener("submit", function(event) {
                event.preventDefault();
    
                const name = document.getElementById("name").value;
                const age = document.getElementById("age").value;


                const height = document.getElementById("height").value;
                const weight = document.getElementById("weight").value;

                const bloodType = document.getElementById("bloodType").value;

                const gender = document.getElementById("gender").value;

            const disease = document.getElementById("disease").value;

            // 조건에 따라 URL 매개변수로 전달
            let redirectURL;
            if (disease.toLowerCase().includes('당뇨')) {
                redirectURL = `dangnyo.html?name=${name}&age=${age}&height=${height}&weight=${weight}&bloodType=${bloodType}&gender=${gender}&disease=${disease}`;
            } else {
                redirectURL = `result.html?name=${name}&age=${age}&height=${height}&weight=${weight}&bloodType=${bloodType}&gender=${gender}&disease=${disease}`;
            }

            window.location.href = redirectURL;
        });
    });
</script>
</body>
</html>
